/* ================================
   Game Map Style (Leaflet + Dark UI)
   -------------------------------
   - 기본 색상 변수
   - 전체 레이아웃
   - 헤더 / 검색창
   - Leaflet 팝업 / 범례 / 가이드라인
   ================================ */

:root {
  --bg: #738E95;        /* 배경색 */
  --fg: #e7eaf0;        /* 글자색 */
  --muted: #9aa3b2;     /* 보조 텍스트 색 */
  --panel: #121722;     /* 입력창 / 패널 배경색 */
}

/* Leaflet 기본 배경(#ddd)을 덮어쓰기 */
.leaflet-container {
  background: var(--bg) !important;  /* 원하는 색 */
}

/* 전체 레이아웃 설정 */
* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, 
        Apple SD Gothic Neo, 'Malgun Gothic', sans-serif;
}

/* -------------------------------
   헤더 (상단 바)
   ------------------------------- */

/* 헤더를 두 줄 구조로 */
.header {
  position: fixed;
  inset: 0 0 auto 0;
  display: flex;
  flex-direction: column;   /* 세로 스택 */
  gap: .4rem;
  padding: .6rem 1rem;
  background: none;         /* 필요시 그라데이션 제거 */
  z-index: 500;
}

/* 윗줄: 제목 + 검색창 가로 정렬 */
.topline {
  display: flex;
  gap: .75rem;
  align-items: center;
}

.topline h1 {
  margin: 0;
  font-size: 1rem;
  color: var(--fg);
  opacity: .95;
}

#search {
  background: var(--panel);
  border: 1px solid #222a39;
  border-radius: .6rem;
  padding: .5rem .7rem;
  color: var(--fg);
  outline: none;
  min-width: 240px;
}

/* 아랫줄: 경계 보기 토글 */
.subline {
  display: flex;
  align-items: center;
  color: var(--muted);
}

.toggle-bounds {
  user-select: none;
}

/* -------------------------------
   검색창 (헤더 오른쪽)
   ------------------------------- */
#search {
  background: var(--panel);
  border: 1px solid #222a39;
  border-radius: 0.6rem;
  padding: 0.5rem 0.7rem;
  color: var(--fg);
  outline: none;
  min-width: 240px;
}

/* -------------------------------
   지도 영역
   ------------------------------- */
#map {
  position: absolute;
  top: 0; // 92px
  left: 0; right: 0; bottom: 0;
}

/* -------------------------------
   Leaflet 팝업 (마커 클릭 시)
   ------------------------------- */
.leaflet-popup-content {
  font-size: 0.9rem;
}

/* -------------------------------
   Zoom Level Display
   ------------------------------- */
.zoom-display {
  background: rgba(10, 12, 18, 0.85);
  border: 1px solid #1f2635;
  border-radius: 0.6rem;
  padding: 0.25rem 0.6rem;
  color: var(--muted);
  font-size: 0.8rem;
  margin-bottom: 38px; /* 줌 버튼 위쪽 간격 */
  text-align: right;
}

/* -------------------------------
   통합 패널: 범례 레이아웃 + 선택 기능
   ------------------------------- */
.legend-panel {
  background: rgba(10, 12, 18, 0.85);
  border: 1px solid #1f2635;
  border-radius: .8rem;
  padding: .6rem .8rem;
  color: var(--muted);
  font-size: .9rem;
  min-width: 160px;
}

.legend-panel h3 {
  margin: 0 0 .4rem 0;
  color: var(--fg);
  font-size: .9rem;
}

.legend-panel ul {
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 200px;      /* 카테고리 많을 때 스크롤 */
  overflow: auto;
}

.legend-panel li {
  padding: .15rem 0;
}

.legend-panel input[type="checkbox"] {
  vertical-align: middle;
  margin-right: .4rem;
}

/* -------------------------------
   맵 경계선 (디버그용)
   ------------------------------- */
.bounds-rect {
  stroke: #7aa2ff;
  stroke-dasharray: 4 3;
  fill: none;
}

